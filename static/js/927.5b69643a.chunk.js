"use strict";(self.webpackChunkdevblog=self.webpackChunkdevblog||[]).push([[927],{6674:function(e,n,t){t.d(n,{c:function(){return i}});var r=t(9737),o=t(184);function i(e){var n=(0,r.b)({text:e,speed:1,overdrive:!1,scramble:10}),t=n.ref,i=n.replay;return(0,o.jsx)("h1",{className:"scrambled",ref:t,onClick:i})}},5927:function(e,n,t){t.r(n);t(697),t(2791),t(9623);var r=t(6674),o=t(2407),i=t(7900),a=t(184);n.default=function(){var e=t(4132),n=new Date(e.date).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"2-digit"});return(0,a.jsxs)("div",{className:"fauxnix",children:[(0,a.jsx)(o.Z,{}),(0,a.jsxs)("article",{children:[(0,a.jsxs)("div",{className:"cover",children:[(0,r.c)(e.title),(0,a.jsx)("time",{children:n}),(0,a.jsx)("img",{className:"thumbnail",src:t(9291)}),(0,a.jsx)("hr",{})]}),(0,a.jsxs)("main",{children:[(0,a.jsxs)("p",{children:["If you are looking for a description of how to use the program, please refer to",(0,a.jsx)("a",{href:"https://github.com/DvorakDwarf/fauxnix",children:" https://github.com/DvorakDwarf/fauxnix"})]}),(0,a.jsx)("p",{children:"I really like the idea of NixOS, just not using it. A central config is the hottest thing invented since sliced bread. Being able to reproduce your entire system from just one file is phenomenal. Being able to go to a previous generation when things go wrong is life-saving and single-handedly reduces the annual number of computers thrown out of windows worldwide by half. However, I don't like how strict it is and how it forces you to do things the Nix way\u2122. Installing things from github or any source other than Nixpkgs can get messy. I don't care about your nerd philosophy of perfect reproducibility and isolated packages, I just want to play the latest osu!lazer version in peace."}),(0,a.jsxs)("p",{children:["Special shoutout goes to the aliens working on the Nix team who think that manually typing in the name of packages in ",(0,a.jsx)("code",{children:"configuration.nix"})," as opposed to one CLI command was a good idea under any circumstance. I am not a sysadmin, I want to quickly add new programs and save them in my config."]}),(0,a.jsx)("p",{children:"The natural solution is for me to write this Nix wannabe program for a couple of weeks and I think it works now. It does basically everything I want Nix to do for me. Writing the program was not a problem, trying to make a package from it absolutely was."}),(0,a.jsx)("img",{src:t(6341)}),(0,a.jsx)("span",{children:"The arch in question"}),(0,a.jsxs)("p",{children:["I use Arch Linux and so naturally I wanted to create a package in the Arch User Repository for other people to use. This involves writing a ",(0,a.jsx)("code",{children:"PKGBUILD "}),"file which describes how the installation works. The idea was also inspired by some random person who made an AUR package for my Infinite-Storage-Glitch. I thought it couldn't be too hard."]}),(0,a.jsx)("h2",{children:"It Was"}),(0,a.jsxs)("p",{children:["Fauxnix is written in Python and I'm gonna be real, I didn't know it could be compiled. That was the first thing I had to figure out. I settled on using ",(0,a.jsx)("code",{children:"setuptools. "}),"I tried getting further along on my ",(0,a.jsx)("code",{children:"PKGBUILD"})," progress but got stuck on trying to understand where to place the files and how to make it run from PATH. The former was answered by some good samaritans in the Arch Linux programming channel on discord. The latter drove me mad. You'd think such a common question would be very well known and have many direct first-page answers. Unfortunately I missed the page in ",(0,a.jsx)("code",{children:"setuptools "}),"docs that explain it and ask online for help."]}),(0,a.jsx)("p",{children:"In the Python discord server, I was given an incorrect answer and then my question was closed. In the Arch Linux server, I was told an answer I explicitly was not interested in, followed by programs that write PKGBUILDS from PyPI packages, unrelated to the question."}),(0,a.jsx)("img",{src:t(3180)}),(0,a.jsx)("span",{children:"I hate getting help online. At least ChatGPT wouldn't give you an answer you explicitly did not ask for"}),(0,a.jsx)("p",{children:"I did eventually find what I was missing and figured it out. The exact details of how to write a PKGBUILD for a python app I'll put in a separate article for those who struggled like me."})]})]}),(0,a.jsx)(i.Z,{})]})}},9737:function(e,n,t){t.d(n,{b:function(){return a}});var r=t(2791);function o(e,n){return Math.floor(Math.random()*(n-e+1))+e}function i(e){var n=0;return n=2===e.length?o(e[0],e[1]):e[o(0,e.length-1)],String.fromCharCode(n)}var a=function(e){var n=e.playOnMount,t=void 0===n||n,a=e.text,s=void 0===a?"":a,c=e.speed,u=void 0===c?1:c,l=e.seed,d=void 0===l?1:l,h=e.step,f=void 0===h?1:h,g=e.tick,m=void 0===g?1:g,p=e.scramble,w=void 0===p?1:p,x=e.chance,v=void 0===x?1:x,y=e.overflow,b=void 0===y||y,k=e.range,I=void 0===k?[65,125]:k,j=e.overdrive,A=void 0===j||j,N=e.onAnimationStart,T=e.onAnimationFrame,D=e.onAnimationEnd,F=e.ignore,L=void 0===F?[" "]:F;"undefined"!==typeof window&&window.matchMedia("(prefers-reduced-motion: reduce)").matches&&(f=s.length,v=0,A=!1);var P=(0,r.useRef)(null),C=(0,r.useRef)(0),R=(0,r.useRef)(0),S=1e3/(60*u),q=(0,r.useRef)(0),M=(0,r.useRef)(0),U=(0,r.useRef)([]),B=(0,r.useRef)(0),G=function(e,n){return L.includes(""+e)?e:n},E=function(){!function(){for(var e=0;e<f;e++)if(M.current<s.length){var n=M.current,t=o(0,10)>=10*(1-v);U.current[n]=G(s[M.current],t?w+o(0,Math.ceil(w/2)):0),M.current++}}(),function(){s.length<U.current.length&&(U.current.pop(),U.current.splice(s.length,f));for(var e=0;e<f;e++)U.current.length<s.length&&U.current.push(G(s[U.current.length+1],null))}(),function(){if(M.current!==s.length)for(var e=0;e<d;e++){var n=o(M.current,U.current.length);"number"!==typeof U.current[n]&&"undefined"!==typeof U.current[n]&&(U.current[n]=G(U.current[n],o(0,10)>=10*(1-v)?w||d:0))}}()},K=function e(n){u&&(C.current=requestAnimationFrame(e),function(){if(A)for(var e=0;e<f;e++){var n=Math.max(U.current.length,s.length);B.current<n&&(U.current[B.current]=G(s[B.current],String.fromCharCode("boolean"===typeof A?95:A)),B.current++)}}(),n-R.current>S&&(R.current=n,q.current%m===0&&E(),H()))},H=function(){if(P.current){for(var e="",n=0;n<U.current.length;n++){var t=U.current[n];switch(!0){case"number"===typeof t&&t>0:e+=i(I),n<=M.current&&(U.current[n]=U.current[n]-1);break;case"string"===typeof t&&(n>=s.length||n>=M.current):e+=t;break;case t===s[n]&&n<M.current:e+=s[n];break;case 0===t&&n<s.length:e+=s[n],U.current[n]=s[n];break;default:e+=""}}P.current.innerHTML=e,T&&T(e),e===s&&(U.current.splice(s.length,U.current.length),D&&D(),cancelAnimationFrame(C.current)),q.current++}},O=function(){q.current=0,M.current=0,B.current=0,b||(U.current=new Array(null==s?void 0:s.length))};return(0,r.useEffect)((function(){O()}),[s]),(0,r.useEffect)((function(){return cancelAnimationFrame(C.current),C.current=requestAnimationFrame(K),function(){cancelAnimationFrame(C.current)}}),[K]),(0,r.useEffect)((function(){t||(U.current=s.split(""),q.current=s.length,M.current=s.length,B.current=s.length,H(),cancelAnimationFrame(C.current))}),[]),{ref:P,replay:function(){cancelAnimationFrame(C.current),O(),N&&N(),C.current=requestAnimationFrame(K)}}}},9623:function(){},697:function(){},6341:function(e,n,t){e.exports=t.p+"static/media/archlogo.c41b7e9e3034b9032b4c.png"},3180:function(e,n,t){e.exports=t.p+"static/media/dumb.7aa52ef096e1ca3b58f9.png"},9291:function(e,n,t){e.exports=t.p+"static/media/example.1d40d6a6e7cbf89636b0.png"},4132:function(e){e.exports=JSON.parse('{"date":"2023-11-20T20:05:01.708Z","slug":"fauxnix","title":"What if Nix, but not ?"}')}}]);
//# sourceMappingURL=927.5b69643a.chunk.js.map